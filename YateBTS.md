<header class="post-header" style="box-sizing: border-box; display: block; margin-bottom: 2em; color: rgb(220, 215, 212); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14.66px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(4, 4, 4); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><h1 class="post-title" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.1; color: inherit; font-size: 37px; padding: 0px; letter-spacing: -1px;">Creating a Cellular Testbed with YateBTS and srsLTE</h1><p class="post-meta" style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px; font-size: 13px; color: rgb(220, 215, 212) !important;"><time datetime="2020-08-04T00:00:00-04:00" style="box-sizing: border-box; color: rgb(220, 215, 212) !important;">Aug 4, 2020</time><span>&nbsp;</span>• By Tyler Tucker &amp; Grant •<span>&nbsp;</span><i class="fa fa-list pr-1" style="box-sizing: border-box; padding-right: 0.25rem !important; display: inline-block; font-style: normal; font-variant: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-weight: normal; font-stretch: normal; line-height: 1; font-family: FontAwesome; font-size: inherit; text-rendering: auto; -webkit-font-smoothing: antialiased; color: rgb(220, 215, 212) !important;"></i><span>&nbsp;</span><a href="https://hernan.de/blog/categories#SDR" style="box-sizing: border-box; color: var(--link-color) !important; text-decoration: none; background-color: transparent; --link-color: rgb(71, 157, 228) !important; --link-color-hover: rgb(89, 167, 230) !important; --link-color-active: rgb(62, 152, 226) !important; --visited-color: rgb(128, 71, 228) !important; --visited-color-hover: rgb(141, 89, 230) !important; --visited-color-active: rgb(122, 62, 226) !important;">SDR</a></p><div class="text-center" style="box-sizing: border-box; text-align: center !important;"><img class="preview-image" src="https://hernan.de/assets/posts/creating-a-cellular-testbed-with-yatebts-and-srslte/hero.jpg" alt="Creating a Cellular Testbed with YateBTS and srsLTE" style="box-sizing: border-box; vertical-align: middle; border-style: none; max-width: 100%; max-height: 400px; filter: saturate(0.9) brightness(0.8);"></div></header><article class="post-content" style="box-sizing: border-box; display: block; margin-bottom: 2em; color: rgb(220, 215, 212); font-family: &quot;Open Sans&quot;, sans-serif; font-size: 14.66px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(4, 4, 4); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">Have you ever wondered how your smartphone communicates over-the-air? How calls and SMSs reach your phone from across the world? What about how your phone decodes over-the-air messages? Does it do it correctly and what happens if it doesn’t? Well these answers and more lie within the 2 - 5G cellular protocols and their implementations. Understanding and setting up a cellular testbed for this kind of exploration can be a difficult and frustrating process. Without a background in signal processing, cellular protocol conventions, or the right equipment, debugging why a cellular testbed isn’t working can be a pain, to say the least. In this tutorial we’re going to detail the exact steps my guest author<span>&nbsp;</span><a href="https://www.cise.ufl.edu/~tucker/" style="box-sizing: border-box; color: var(--link-color) !important; text-decoration: underline; background-color: transparent; --link-color: rgb(71, 157, 228) !important; --link-color-hover: rgb(89, 167, 230) !important; --link-color-active: rgb(62, 152, 226) !important; --visited-color: rgb(128, 71, 228) !important; --visited-color-hover: rgb(141, 89, 230) !important; --visited-color-active: rgb(122, 62, 226) !important;">Tyler Tucker</a><span>&nbsp;</span>and I took to get a 2G (GSM) and 4G (LTE) testbed up and running. In cellular terminology these are known as the<span>&nbsp;</span><a href="https://en.wikipedia.org/wiki/Base_transceiver_station" style="box-sizing: border-box; color: var(--link-color) !important; text-decoration: underline; background-color: transparent; --link-color: rgb(71, 157, 228) !important; --link-color-hover: rgb(89, 167, 230) !important; --link-color-active: rgb(62, 152, 226) !important; --visited-color: rgb(128, 71, 228) !important; --visited-color-hover: rgb(141, 89, 230) !important; --visited-color-active: rgb(122, 62, 226) !important;">BTS</a><span>&nbsp;</span>and<span>&nbsp;</span><a href="https://en.wikipedia.org/wiki/ENodeB" style="box-sizing: border-box; color: var(--link-color) !important; text-decoration: underline; background-color: transparent; --link-color: rgb(71, 157, 228) !important; --link-color-hover: rgb(89, 167, 230) !important; --link-color-active: rgb(62, 152, 226) !important; --visited-color: rgb(128, 71, 228) !important; --visited-color-hover: rgb(141, 89, 230) !important; --visited-color-active: rgb(122, 62, 226) !important;">eNodeB</a><span>&nbsp;</span>for GSM and LTE respectively, but throughout we’ll stick with base station. To get a base station up and running you need two things: a software defined radio (SDR) for the radio frontend and a software station implementation that can talk to your SDR.</p><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">If you have the equipment and are properly licensed, you’ll legally be able to setup a cell site of your own. But wait, what if you don’t have a license? Do you really need one and how can you get one? Well sorry, this is one of those “if you have to ask you can’t afford it” deals. Technically there are the industrial, scientific and medical (ISM) band frequencies, but even these don’t give you free reign to transmit; devices (and humans) transmitting in these bands still need FCC approval and testing. This means you need to be ethical when performing cellular, or any radio-based research for that matter. Violations of FCC regulations can at best land you a hefty fine. Some laws in other countries are so strict that even possessing an SDR, let alone transmitting, can get you thrown into jail. Even if you did have the required spectrum licenses to transmit (which is highly unlikely), you could still cause serious harm if you by accident intercept or infer with emergency calls from legitimate subscribers. Some of you may even have your amateur radio tech/general/extra class license, but transmitting potentially encrypted cellular traffic is still prohibited to the best of my knowledge. In general some maxims to follow include, but are not limited to:</p><ol style="box-sizing: border-box; margin: 0px 0px 1em 2em; padding: 0px;"><li style="box-sizing: border-box;"><strong style="box-sizing: border-box; font-weight: bold;">DO NOT</strong><span>&nbsp;</span>transmit on any frequency that you do not have the license(s) for</li><li style="box-sizing: border-box;"><strong style="box-sizing: border-box; font-weight: bold;">DO NOT</strong><span>&nbsp;</span>infer with any other transmitting devices, especially critical infrastructure like other commercial towers</li><li style="box-sizing: border-box;"><strong style="box-sizing: border-box; font-weight: bold;">DO</strong><span>&nbsp;</span>consult all applicable laws and regulations for your country/state/county/company before experimenting</li><li style="box-sizing: border-box;"><strong style="box-sizing: border-box; font-weight: bold;">DO</strong><span>&nbsp;</span>perform experiments in an RF-shielded environment (Faraday cage) or with the minimum required power</li></ol><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">When it comes to SDRs, rules or not, the genie is out of the bottle and laws won’t stop everyone. Please still exercise caution to minimize risk to you and those around you and don’t use this for malicious purposes. With the disclaimers out of the way, lets dive in.</p><h1 id="sdrs--software" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 37px; padding: 0px;">SDRs &amp; Software</h1><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">For our SDRs we used four different kinds across two base station implementations when trying to get our testbed working properly. Here are the SDRs we purchased (keep reading, you don’t need all of these):</p><table class="table table-sm table-bordered table-responsive-sm" style="box-sizing: border-box; border-collapse: collapse; margin-bottom: 1rem; width: 782.734px; max-width: 100%; background-color: transparent; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;"><thead class="thead-dark" style="box-sizing: border-box; color: rgb(220, 215, 212) !important;"><tr style="box-sizing: border-box; color: rgb(220, 215, 212) !important;"><th style="box-sizing: border-box; text-align: inherit; padding: 0.3rem; vertical-align: bottom; border-width: 1px 1px 2px; border-style: solid; border-color: rgb(90, 101, 111) !important; border-image: initial; color: rgb(232, 229, 227) !important; background-color: rgb(22, 24, 27) !important;">Name</th><th style="box-sizing: border-box; text-align: inherit; padding: 0.3rem; vertical-align: bottom; border-width: 1px 1px 2px; border-style: solid; border-color: rgb(90, 101, 111) !important; border-image: initial; color: rgb(232, 229, 227) !important; background-color: rgb(22, 24, 27) !important;">Cost</th><th style="box-sizing: border-box; text-align: inherit; padding: 0.3rem; vertical-align: bottom; border-width: 1px 1px 2px; border-style: solid; border-color: rgb(90, 101, 111) !important; border-image: initial; color: rgb(232, 229, 227) !important; background-color: rgb(22, 24, 27) !important;">Interface</th><th style="box-sizing: border-box; text-align: inherit; padding: 0.3rem; vertical-align: bottom; border-width: 1px 1px 2px; border-style: solid; border-color: rgb(90, 101, 111) !important; border-image: initial; color: rgb(232, 229, 227) !important; background-color: rgb(22, 24, 27) !important;">Base Clock</th><th style="box-sizing: border-box; text-align: inherit; padding: 0.3rem; vertical-align: bottom; border-width: 1px 1px 2px; border-style: solid; border-color: rgb(90, 101, 111) !important; border-image: initial; color: rgb(232, 229, 227) !important; background-color: rgb(22, 24, 27) !important;">Performance</th></tr></thead><tbody style="box-sizing: border-box; color: rgb(220, 215, 212) !important;"><tr style="box-sizing: border-box; color: rgb(220, 215, 212) !important;"><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;"><a href="https://www.nuand.com/product/bladerf-x40/" style="box-sizing: border-box; color: var(--link-color) !important; text-decoration: underline; background-color: transparent; --link-color: rgb(71, 157, 228) !important; --link-color-hover: rgb(89, 167, 230) !important; --link-color-active: rgb(62, 152, 226) !important; --visited-color: rgb(128, 71, 228) !important; --visited-color-hover: rgb(141, 89, 230) !important; --visited-color-active: rgb(122, 62, 226) !important;">bladeRF x40</a></td><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;">$420</td><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;">USB 3.0</td><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;">38.4MHz</td><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;">300MHz - 3.8GHz</td></tr><tr style="box-sizing: border-box; color: rgb(220, 215, 212) !important;"><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;"><a href="https://www.nuand.com/product/bladeRF-xA4/" style="box-sizing: border-box; color: var(--link-color) !important; text-decoration: underline; background-color: transparent; --link-color: rgb(71, 157, 228) !important; --link-color-hover: rgb(89, 167, 230) !important; --link-color-active: rgb(62, 152, 226) !important; --visited-color: rgb(128, 71, 228) !important; --visited-color-hover: rgb(141, 89, 230) !important; --visited-color-active: rgb(122, 62, 226) !important;">bladeRF 2.0 xA4</a></td><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;">$480</td><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;">USB 3.0</td><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;">61.44MHz</td><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;">47MHz to 6GHz</td></tr><tr style="box-sizing: border-box; color: rgb(220, 215, 212) !important;"><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;"><a href="https://www.ettus.com/all-products/un210-kit/" style="box-sizing: border-box; color: var(--link-color) !important; text-decoration: underline; background-color: transparent; --link-color: rgb(71, 157, 228) !important; --link-color-hover: rgb(89, 167, 230) !important; --link-color-active: rgb(62, 152, 226) !important; --visited-color: rgb(128, 71, 228) !important; --visited-color-hover: rgb(141, 89, 230) !important; --visited-color-active: rgb(122, 62, 226) !important;">USRP N210</a></td><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;">$2,048</td><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;">RJ-45 (1000BASE-T)</td><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;">100MHz</td><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;">DC - 6GHz</td></tr><tr style="box-sizing: border-box; color: rgb(220, 215, 212) !important;"><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;"><a href="https://www.ettus.com/all-products/ub210-kit/" style="box-sizing: border-box; color: var(--link-color) !important; text-decoration: underline; background-color: transparent; --link-color: rgb(71, 157, 228) !important; --link-color-hover: rgb(89, 167, 230) !important; --link-color-active: rgb(62, 152, 226) !important; --visited-color: rgb(128, 71, 228) !important; --visited-color-hover: rgb(141, 89, 230) !important; --visited-color-active: rgb(122, 62, 226) !important;">USRP B210</a></td><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;">$1,282</td><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;">USB 3.0</td><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;">61.44MHz</td><td style="box-sizing: border-box; padding: 0.3rem; vertical-align: top; border-width: 1px; border-style: solid; border-color: rgb(105, 121, 138) !important; border-image: initial; color: rgb(220, 215, 212) !important;">70MHz - 6GHz</td></tr></tbody></table><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">For the base stations we chose<span>&nbsp;</span><a href="https://yatebts.com/" style="box-sizing: border-box; color: var(--link-color) !important; text-decoration: underline; background-color: transparent; --link-color: rgb(71, 157, 228) !important; --link-color-hover: rgb(89, 167, 230) !important; --link-color-active: rgb(62, 152, 226) !important; --visited-color: rgb(128, 71, 228) !important; --visited-color-hover: rgb(141, 89, 230) !important; --visited-color-active: rgb(122, 62, 226) !important;">YateBTS</a><span>&nbsp;</span>for GSM and<span>&nbsp;</span><a href="https://github.com/srsLTE/srsLTE" style="box-sizing: border-box; color: var(--link-color) !important; text-decoration: underline; background-color: transparent; --link-color: rgb(71, 157, 228) !important; --link-color-hover: rgb(89, 167, 230) !important; --link-color-active: rgb(62, 152, 226) !important; --visited-color: rgb(128, 71, 228) !important; --visited-color-hover: rgb(141, 89, 230) !important; --visited-color-active: rgb(122, 62, 226) !important;">srsLTE</a><span>&nbsp;</span>for LTE. These are both open source and their code is relatively easy to compile and hack on. So why didn’t we just stick with one SDR? Well every step along the way revealed some obscure software or hardware incompatibility that left us having try out many different configurations. Here’s a list of the main issues we encountered:</p><ol style="box-sizing: border-box; margin: 0px 0px 1em 2em; padding: 0px;"><li style="box-sizing: border-box;">Bought two USRP N210’s to setup srsLTE. Spent a month trying to get these to work only to realize that srsLTE needs an SDR with a base clock that is a multiple of 1.92MHz (100MHz is not).<span>&nbsp;</span><a href="https://github.com/srsLTE/srsLTE/issues/242" style="box-sizing: border-box; color: var(--link-color) !important; text-decoration: underline; background-color: transparent; --link-color: rgb(71, 157, 228) !important; --link-color-hover: rgb(89, 167, 230) !important; --link-color-active: rgb(62, 152, 226) !important; --visited-color: rgb(128, 71, 228) !important; --visited-color-hover: rgb(141, 89, 230) !important; --visited-color-active: rgb(122, 62, 226) !important;">It<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; --visited-color: rgb(128, 71, 228) !important; --visited-color-hover: rgb(141, 89, 230) !important; --visited-color-active: rgb(122, 62, 226) !important;">could</em><span>&nbsp;</span>in theory work with other clock rates by performing resampling</a>, but it does not do this.</li><li style="box-sizing: border-box;">Tried to get the USRP N210’s working with YateBTS latest checkout only to realize that they dropped support for the UHD driver. Spent a while going through commit logs to find an old working revision that supported UHD.</li><li style="box-sizing: border-box;">Tried to get the bladeRF 2.0 xA4 working with YateBTS because it mentioned it was supported. Had multiple issues due to YateBTS writing their own radio driver instead of using the official bladeRF libraries. Ended up having to buy the bladeRF x40 (older model) and use an older FPGA image to get devices to connect.</li><li style="box-sizing: border-box;">Tried using the bladeRF x40 for srsLTE as srsLTE mentioned “bladeRF support”, but to no avail. Ended up having to use the newer xA4.</li></ol><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">Hopefully this tutorial will let you skip straight to the right SDR/base station pair and avoid some of the pain (and cost).</p><h1 id="run-yatebts-with-usrp-n210-or-bladerf-x40x115" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 37px; padding: 0px;">Run YateBTS with USRP N210 or bladeRF x40/x115</h1><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">YateBTS allows anyone with a Linux distro to run their own GSM base station. For this section, we are using Ubuntu 18.04 LTS to run YateBTS, but we also had luck with 16.04. SDR software in our experience has historically struggled when tested on other Linux distributions (including other versions of Ubuntu), so keep this in mind when attempting to run your base station. In the newest versions of YateBTS, only bladeRF support is enabled, so we also talk about how we used an old, modified version of the YateBTS repository to get it working with a USRP N210. However, once the code is installed and configured properly, the operation should be nearly identical for the two different versions. Also, while people have gotten YateBTS to work with the newer bladeRF 2.0 xA4/xA9 family, these devices have a much lower chance of working properly and probably require more customization.</p><h2 id="installation" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 27.75px; padding: 0px;">Installation</h2><h3 id="install-dependencies" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">Install Dependencies</h3><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">These programs are all necessary to run YateBTS with either SDR.</p><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code class="language-sh" style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;"><span class="c1" style="box-sizing: border-box; color: rgb(137, 249, 178) !important; font-style: italic !important;"># Generic dependencies</span>
sudo apt-get install subversion autoconf libgsm1-dev libgusb-dev libusb-1.0-0 libusb-1.0-0-dev</code></pre></div><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">If you’d like the optional YateBTS web interface you can install the below. This tutorial assumes you have done this step.</p><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code class="language-sh" style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;"><span class="c1" style="box-sizing: border-box; color: rgb(137, 249, 178) !important; font-style: italic !important;"># Web dependencies</span>
sudo add-apt-repository ppa:ondrej/php
sudo apt-get update
sudo apt-get install php5.6 apache2</code></pre></div><h4 id="bladerf" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 18.5px; padding: 0px;">bladeRF</h4><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code class="language-sh" style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;">sudo add-apt-repository ppa:bladerf/bladerf
sudo apt-get update
sudo apt-get install bladerf
sudo apt-get install libbladerf-dev
sudo apt-get install bladerf-fpga-hostedxa4</code></pre></div><h4 id="n210" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 18.5px; padding: 0px;">N210</h4><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code class="language-sh" style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;">sudo apt-get install libuhd-dev libuhd003.010.003 uhd-host</code></pre></div><h3 id="create-yate-group" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">Create Yate Group</h3><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">YateBTS uses a group called<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">yate</em><span>&nbsp;</span>to handle permissions, so create a<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">yate</em><span>&nbsp;</span>group and add your account to this group.</p><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code class="language-sh" style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;">sudo addgroup yate
sudo usermod -a -G yate &lt;username&gt;</code></pre></div><h3 id="install-yate" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">Install Yate</h3><h4 id="n210-1" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 18.5px; padding: 0px;">N210</h4><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">We will install yate to the system using<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">subversion</em><span>&nbsp;</span>to fetch the code. Ensure that you use the correct version of the code when installing with the<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">-r 5968</code><span>&nbsp;</span>argument.</p><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code class="language-sh" style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;">svn checkout -r <span class="m" style="box-sizing: border-box; color: rgb(169, 196, 216) !important;">5968</span> http://voip.null.ro/svn/yate/trunk yate
<span class="nb" style="box-sizing: border-box; color: rgb(137, 241, 249) !important;">cd</span> yate
./autogen.sh
./configure
sudo make install-noapi</code></pre></div><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">You may run into an OpenSSL error while building. If this occurs, you need to perform a minor patch in the file<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">./yate/modules/openssl.cpp</code><span>&nbsp;</span><a href="http://yate.null.ro/mantis/file_download.php?file_id=216&amp;type=bug" style="box-sizing: border-box; color: var(--link-color) !important; text-decoration: underline; background-color: transparent; --link-color: rgb(71, 157, 228) !important; --link-color-hover: rgb(89, 167, 230) !important; --link-color-active: rgb(62, 152, 226) !important; --visited-color: rgb(128, 71, 228) !important; --visited-color-hover: rgb(141, 89, 230) !important; --visited-color-active: rgb(122, 62, 226) !important;">based on this file</a>.</p><h4 id="bladerf-1" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 18.5px; padding: 0px;">bladeRF</h4><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">Nuand hosts a tar file which includes Yate, YateBTS, and bladeRF FPGA images.</p><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code class="language-sh" style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;">wget https://nuand.com/downloads/yate-rc.tar
mkdir yate-rc
tar -xf yate-rc.tar -C yate-rc
<span class="nb" style="box-sizing: border-box; color: rgb(137, 241, 249) !important;">cd</span> yate-rc/yate
./autogen.sh
./configure --prefix<span class="o" style="box-sizing: border-box; color: rgb(231, 228, 226) !important;">=</span>/usr/local
make
sudo make install-noapi
sudo ldconfig</code></pre></div><h3 id="install-yatebts" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">Install YateBTS</h3><h4 id="n210-2" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 18.5px; padding: 0px;">N210</h4><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">Now it’s time to install YateBTS. Here, we use our own modified codebase for YateBTS, as we have confirmed that it works with the N210.</p><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code class="language-sh" style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;">git clone https://github.com/grant-h/YateBTS-USRP
<span class="nb" style="box-sizing: border-box; color: rgb(137, 241, 249) !important;">cd</span> YateBTS-USRP
./autogen.sh
./configure
sudo make install</code></pre></div><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">If it complains about bladeRF library, uninstall bladeRF from system, re-run the command, then reinstall bladeRF.</p><h4 id="bladerf-2" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 18.5px; padding: 0px;">bladeRF</h4><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code class="language-sh" style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;"><span class="nb" style="box-sizing: border-box; color: rgb(137, 241, 249) !important;">cd</span> yate-rc/yatebts
./autogen.sh
./configure --prefix<span class="o" style="box-sizing: border-box; color: rgb(231, 228, 226) !important;">=</span>/usr/local
make
sudo make install
sudo ldconfig</code></pre></div><h3 id="addedit-files" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">Add/Edit Files</h3><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">Here’s where the<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">yate</em><span>&nbsp;</span>group comes into use. We change the owner of the configuration files from<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">root</em><span>&nbsp;</span>to<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">yate</em>.</p><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code class="language-sh" style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;">sudo touch /usr/local/etc/yate/snmp_data.conf /usr/local/etc/yate/tmsidata.conf
sudo chown root:yate /usr/local/etc/yate/*.conf
sudo chmod -R a+rw /usr/local/etc/yate</code></pre></div><h3 id="link-web-gui-to-apache-optional" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">Link Web GUI to Apache (optional)</h3><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">YateBTS provides a local Web GUI as an alternative to editing files. The files that the GUI edits are found in<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">/usr/local/etc/yate</code>, with the most important files being<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">ybts.conf</code><span>&nbsp;</span>and<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">subscribers.conf</code>. These two files contain the settings for the radio access network and the mobile stations, respectively. To use the GUI, we will link the needed files to the directory used by Apache when hosting web pages. YateBTS changed the name from<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">NIB</code><span>&nbsp;</span>to<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">NIPC</code><span>&nbsp;</span>between these two different releases, so that is why we have slightly different instructions for each SDR.</p><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">Enter the web directory:<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">cd /var/www/html</code></p><ul style="box-sizing: border-box; margin: 0px 0px 1em 2em; padding: 0px;"><li style="box-sizing: border-box;">N210 »<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">sudo ln -s /usr/local/share/yate/nib_web/ nib</code></li><li style="box-sizing: border-box;">bladeRF »<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">sudo ln -s /usr/local/share/yate/nipc_web/ nipc</code></li></ul><h3 id="web-gui-options" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">Web GUI Options</h3><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">In a web browser, type<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">localhost/nib</code><span>&nbsp;</span>(if using N210) or<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">localhost/nipc</code><span>&nbsp;</span>(if using bladeRF) in the search bar. If the installation succeeded, you should see a web page like this:</p><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;"><img src="https://hernan.de/assets/posts/creating-a-cellular-testbed-with-yatebts-and-srslte/yate_gui_home.png" alt="YateBTS GUI Home Page" style="box-sizing: border-box; vertical-align: middle; border-style: none; max-width: 100%; filter: saturate(0.9) brightness(0.8);"></p><h4 id="subscribers" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 18.5px; padding: 0px;">Subscribers</h4><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">This page represents the condition needed for a mobile station to connect to the network, which is based only on its IMSI. You can either have Yate accept IMSIs by regular expression (regexp), shown in the picture, or manually set each subscriber. When accepting by regexp, Yate will check that the IMSI meets the condition before allowing it to connect. In the picture, regexp is set to<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">^001</code>, meaning that any IMSI beginning with<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">001</code><span>&nbsp;</span>will be accepted. When accepting by explicit subscribers, Yate will check if the entire IMSI matches one the entries in a table that you create. This option allows for greater customization, as each IMSI entry can be given a set phone number, IMSI type, Ki, etc. Conversely, phones accepted by regexp will be allocated a unique phone number.</p><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;"><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Please note that you need to restrict your IMSI accept conditions as much as possible to prevent foreign devices from connecting to your network.</em></p><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">These settings can also be changed in<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">/usr/local/etc/yate/subscribers.conf</code></p><h4 id="bts-configuration" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 18.5px; padding: 0px;">BTS Configuration</h4><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">Navigate to the<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">BTS Configuration</em><span>&nbsp;</span>tab to change network settings for both your SDR and computer. The home page should resemble this:</p><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;"><img src="https://hernan.de/assets/posts/creating-a-cellular-testbed-with-yatebts-and-srslte/yate_gui_bts.png" alt="YateBTS GUI BTS Configuration Page" style="box-sizing: border-box; vertical-align: middle; border-style: none; max-width: 100%; filter: saturate(0.9) brightness(0.8);"></p><h5 id="ran-settings" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 1.25rem; padding: 0px;">RAN Settings</h5><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">Here you can choose what band and frequency your base station will use, along with what Mobile Country Code (MCC) and Mobile Network Code (MNC) it will transmit. We chose a radio band used in our country, along with a frequency that wasn’t used in our area. Furthermore, we chose our MCC and MNC to match those of our IMSIs. The other settings on the<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">GSM</em><span>&nbsp;</span>page shouldn’t be necessary to get Yate up and running properly, along with those of the<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">GSM Advanced</em><span>&nbsp;</span>page.</p><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;"><strong style="box-sizing: border-box; font-weight: bold;">Reminder: At the very least ensure that you are not transmitting on any frequencies that are used by local base stations in your area. This can cause interference for both Yate and the local BTS. Also read the settings to adjust the power level (dB) as the defaults are quite high, which may cause unintended interference with nearby subscribers. (read: random phones connecting to your network)</strong></p><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">These settings can also be changed in<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">/usr/local/etc/yate/ybts.conf</code></p><h5 id="gprs-settings" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 1.25rem; padding: 0px;">GPRS Settings</h5><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">Navigate to the<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">GPRS</em><span>&nbsp;</span>tab to change settings for General Packet Radio Service (GPRS) support with YateBTS. GPRS gives mobile stations internet access over the GSM network. YateBTS achieves this by forwarding IP packets from the mobile station to an internet interface of your computer.</p><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;"><img src="https://hernan.de/assets/posts/creating-a-cellular-testbed-with-yatebts-and-srslte/yate_gui_gprs.png" alt="YateBTS GUI GPRS Configuration Page" style="box-sizing: border-box; vertical-align: middle; border-style: none; max-width: 100%; filter: saturate(0.9) brightness(0.8);"></p><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">If you would like to use GPRS, check the box next to<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Enable</em><span>&nbsp;</span>like what is shown in the picture above. Next, navigate to the<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">GGSN</em><span>&nbsp;</span>tab and paste your computer’s DNS settings as a space-separated list in the<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">DNS</em><span>&nbsp;</span>field. We will setup IP forwarding later on.</p><h5 id="transceiver-settings" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 1.25rem; padding: 0px;">Transceiver Settings</h5><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">Navigate to the<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Transceiver</em><span>&nbsp;</span>tab, still under<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">BTS Configuration</em>.</p><h5 id="n210-3" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 1.25rem; padding: 0px;">N210</h5><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">Change<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Path</em><span>&nbsp;</span>to<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">./transceiver-uhd</code>, and change<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Args</em><span>&nbsp;</span>to<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">addr=192.168.10.2</code>. This IP address corresponds to that of your USRP N210, so ensure that these values match.</p><h5 id="bladerf-3" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 1.25rem; padding: 0px;">bladeRF</h5><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">A bladeRF device will work with transceiver set to the default value of<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">./transceiver</code><span>&nbsp;</span>with the<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">Args</code><span>&nbsp;</span>field left blank.</p><h5 id="tapping-settings" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 1.25rem; padding: 0px;">Tapping Settings</h5><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">Navigate to the<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Tapping</em><span>&nbsp;</span>tab, still under<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">BTS Configuration</em>. Tapping sends GSM and GPRS packets to a specified IP address (127.0.0.1 for your local machine). Using<span>&nbsp;</span><a href="https://www.wireshark.org/" style="box-sizing: border-box; color: var(--link-color) !important; text-decoration: underline; background-color: transparent; --link-color: rgb(71, 157, 228) !important; --link-color-hover: rgb(89, 167, 230) !important; --link-color-active: rgb(62, 152, 226) !important; --visited-color: rgb(128, 71, 228) !important; --visited-color-hover: rgb(141, 89, 230) !important; --visited-color-active: rgb(122, 62, 226) !important;">Wireshark</a>, you can view and save these messages by inspecting the<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">loopback (lo)</em><span>&nbsp;</span>address. An example of a GSM packet in Wireshark is shown below:</p><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;"><img src="https://hernan.de/assets/posts/creating-a-cellular-testbed-with-yatebts-and-srslte/wireshark.png" alt="Wireshark GSM Example" style="box-sizing: border-box; vertical-align: middle; border-style: none; max-width: 100%; filter: saturate(0.9) brightness(0.8);"></p><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">To get Wireshark for Ubuntu, run<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">sudo apt-get update wireshark</code></p><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">There are many more settings in YateBTS, but these settings should enable you to have a working GSM air interface.</p><h3 id="ip-forwarding-for-gprs" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">IP Forwarding for GPRS</h3><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">To use GPRS with YateBTS, we need to setup IP forwarding to complete our GPRS network using Linux<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">iptables</em>. These instructions assume that the<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">MS.IP.Base</em><span>&nbsp;</span>setting in the<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">GGSN</em><span>&nbsp;</span>tab of the YateBTS GUI is set to its default value of<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">192.168.99.1</em><span>&nbsp;</span>(simply change the value below if this is not the case). Also, replace<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">&lt;wlan&gt;</code><span>&nbsp;</span>in the code below with the name of your internet network adapter.</p><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code class="language-sh" style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;">sudo iptables -A POSTROUTING -t nat -s <span class="m" style="box-sizing: border-box; color: rgb(169, 196, 216) !important;">192</span>.168.99.0/24 ! -d <span class="m" style="box-sizing: border-box; color: rgb(169, 196, 216) !important;">192</span>.168.99.0/24 -j MASQUERADE
sudo iptables -A FORWARD -i &lt;wlan&gt; -o sgsntun -m state --state RELATED,ESTABLISHED -j ACCEPT
sudo iptables -A FORWARD -i sgsntun -o &lt;wlan&gt; -j ACCEPT</code></pre></div><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;"><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">sgsntun</code><span>&nbsp;</span>is the name of the network interface created by YateBTS.</p><h2 id="running-yatebts" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 27.75px; padding: 0px;">Running YateBTS</h2><h4 id="bladerf-4" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 18.5px; padding: 0px;">bladeRF</h4><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">Before running Yate, we should load the FPGA image that matches your device. These files exist in the<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">yate-rc</code><span>&nbsp;</span>directory that we downloaded from Nuand. To load the image, run<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">bladeRF-cli -l /your-path/yate-rc/hostedx40.rf</code>. You can simply changed<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">hostedx40.rbf</code><span>&nbsp;</span>to<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">hostedx115.rbf</code><span>&nbsp;</span>if you’re using a bladeRF x115.</p><h3 id="run" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">Run</h3><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">If the above installation was successful, you can start YateBTS with the commmand<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">sudo yate</code><span>&nbsp;</span>(sudo is required for real-time thread priority).</p><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;"><strong style="box-sizing: border-box; font-weight: bold;">Make sure your computer supports USB 3.0 SS, and that the bladeRF is plugged directly into the bus (not through a hub or a front port). Also make sure that your Yate CPU usage isn’t stuck close to 100%, otherwise TX frames may be dropped.</strong></p><h3 id="phone-settings" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">Phone Settings</h3><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">To connect a phone to the network, you’ll have to enter the<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Cellular Networks</em><span>&nbsp;</span>settings of your phone. Set the<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Preferred network type</em><span>&nbsp;</span>to 2G, then navigate to<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Network Operators</em><span>&nbsp;</span>&gt;<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Search networks</em>. The phone will perform a network scan, printing out the results for you to choose from. Your YateBTS network will be identified by the MCC and MNC that you set earlier. Based on the picture shown above (under<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">BTS Configuration</em>) for example, the network will appear as<span>&nbsp;</span><strong style="box-sizing: border-box; font-weight: bold;">901 700</strong>. Simply click on the number corresponding to your network, and the phone will attempt to connect to the network. To use GPRS, we need to add an<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Access Point Name</em><span>&nbsp;</span>(APN). To do this, find the<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Access Point Names</em><span>&nbsp;</span>setting, then add an APN where<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Name</em><span>&nbsp;</span>can be whatever you want while<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">APN</em><span>&nbsp;</span>needs to be set to<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">internet</code>.</p><h3 id="testing" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">Testing</h3><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">Upon first registration, your phone should receive a SMS message from the network giving it an allocated phone number. Use this number when sending and receiving cellular traffic between multiple phones on the same BTS. YateBTS provides a chatbot that you can send SMS messages to at phone number<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">35492</code>.</p><h1 id="running-srslte-with-bladerf-20-xa4xa9-or-usrp-b210" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 37px; padding: 0px;">Running srsLTE with bladeRF 2.0 xA4/xA9 or USRP B210</h1><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">srsLTE allows anyone with a Linux computer and specific SDR hardware to run their own LTE base station. We have successfully run base stations with the bladeRF 2.0 xA4 and the USRP B210 on Ubuntu 18.04 LTS. Note that we have used an older release of the srsLTE software to get it working with the bladeRF 2.0 xA4, as the newest release had issues with this device in particular. We then tested this same version with a USRP B210 and confirmed that it works with that device as well.</p><h2 id="bladerf-5" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 27.75px; padding: 0px;">bladeRF</h2><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code class="language-sh" style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;">sudo apt-get install libusb-1.0-0-dev libusb-1.0-0 build-essential cmake libncurses5-dev libtecla1 libtecla-dev pkg-config git wget
git clone https://github.com/Nuand/bladeRF.git
<span class="nb" style="box-sizing: border-box; color: rgb(137, 241, 249) !important;">cd</span> bladeRF/host
mkdir build
<span class="nb" style="box-sizing: border-box; color: rgb(137, 241, 249) !important;">cd</span> build
cmake -DCMAKE_BUILD_TYPE<span class="o" style="box-sizing: border-box; color: rgb(231, 228, 226) !important;">=</span>Release -DCMAKE_INSTALL_PREFIX<span class="o" style="box-sizing: border-box; color: rgb(231, 228, 226) !important;">=</span>/usr/local -DINSTALL_UDEV_RULES<span class="o" style="box-sizing: border-box; color: rgb(231, 228, 226) !important;">=</span>ON ../
make <span class="o" style="box-sizing: border-box; color: rgb(231, 228, 226) !important;">&amp;&amp;</span> sudo make install <span class="o" style="box-sizing: border-box; color: rgb(231, 228, 226) !important;">&amp;&amp;</span> sudo ldconfig</code></pre></div><h3 id="download-bladerf-fpga-image" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">Download bladeRF FPGA image</h3><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">Here we are downloading the FPGA image for our bladeRF device from Nuand’s website. If you’re using a bladeRF xA9, simply change the file name to<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">hostedxA9.rbf</code>.</p><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;"><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">wget https://www.nuand.com/fpga/v0.11.0/hostedxA4.rbf</code></p><h2 id="usrp-b210" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 27.75px; padding: 0px;">USRP B210</h2><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;"><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">sudo apt-get install libuhd-dev libuhd003.010.003 uhd-host</code></p><h2 id="install-srslte-from-source-at-old-commit" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 27.75px; padding: 0px;">Install srsLTE from source at old commit</h2><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code class="language-sh" style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;">sudo apt-get install cmake libfftw3-dev libmbedtls-dev libboost-program-options-dev libconfig++-dev libsctp-dev
git clone https://github.com/srsLTE/srsLTE.git
<span class="nb" style="box-sizing: border-box; color: rgb(137, 241, 249) !important;">cd</span> srsLTE
git checkout release_19_06
mkdir build
<span class="nb" style="box-sizing: border-box; color: rgb(137, 241, 249) !important;">cd</span> build
cmake ../
make
make <span class="nb" style="box-sizing: border-box; color: rgb(137, 241, 249) !important;">test</span>
sudo make install
sudo ldconfig
srslte_install_configs.sh user</code></pre></div><h2 id="edit-srslte-settings" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 27.75px; padding: 0px;">Edit srsLTE settings</h2><h3 id="evolved-packet-core-epc-settings" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">Evolved Packet Core (EPC) Settings</h3><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code class="language-sh" style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;">vim ~/.config/srslte/epc.conf
	<span class="c1" style="box-sizing: border-box; color: rgb(137, 249, 178) !important; font-style: italic !important;"># Uncomment/Change these lines</span>
	<span class="nv" style="box-sizing: border-box; color: rgb(153, 223, 232) !important;">dns</span> <span class="o" style="box-sizing: border-box; color: rgb(231, 228, 226) !important;">=</span> &lt;Your computer<span class="err" style="box-sizing: border-box; color: rgb(137, 241, 249) !important;">'</span>s DNS setting&gt;</code></pre></div><h3 id="evolved-node-b-enb-settings" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">Evolved Node B (eNB) Settings</h3><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code class="language-sh" style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;">vim ~/.config/srslte/enb.conf
	<span class="c1" style="box-sizing: border-box; color: rgb(137, 249, 178) !important; font-style: italic !important;"># Uncomment/Change these lines</span>
	<span class="nv" style="box-sizing: border-box; color: rgb(153, 223, 232) !important;">tx_gain</span> <span class="o" style="box-sizing: border-box; color: rgb(231, 228, 226) !important;">=</span> <span class="m" style="box-sizing: border-box; color: rgb(169, 196, 216) !important;">100</span>
	
	<span class="c1" style="box-sizing: border-box; color: rgb(137, 249, 178) !important; font-style: italic !important;"># If using bladeRF</span>
	<span class="nv" style="box-sizing: border-box; color: rgb(153, 223, 232) !important;">device_name</span> <span class="o" style="box-sizing: border-box; color: rgb(231, 228, 226) !important;">=</span> bladeRF
	
	<span class="c1" style="box-sizing: border-box; color: rgb(137, 249, 178) !important; font-style: italic !important;"># If using B210</span>
	<span class="nv" style="box-sizing: border-box; color: rgb(153, 223, 232) !important;">device_name</span> <span class="o" style="box-sizing: border-box; color: rgb(231, 228, 226) !important;">=</span> UHD
	
	<span class="nv" style="box-sizing: border-box; color: rgb(153, 223, 232) !important;">nof_phy_threads</span> <span class="o" style="box-sizing: border-box; color: rgb(231, 228, 226) !important;">=</span> <span class="m" style="box-sizing: border-box; color: rgb(169, 196, 216) !important;">3</span>
	<span class="nv" style="box-sizing: border-box; color: rgb(153, 223, 232) !important;">max_prach_offset_us</span> <span class="o" style="box-sizing: border-box; color: rgb(231, 228, 226) !important;">=</span> <span class="m" style="box-sizing: border-box; color: rgb(169, 196, 216) !important;">90</span></code></pre></div><h3 id="sim-card-database-settings" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">SIM Card Database Settings</h3><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">For our tests, we used sysmocom USIM cards that can be purchased at<span>&nbsp;</span><a href="http://shop.sysmocom.de/products/sysmousim-sjs1-4ff" style="box-sizing: border-box; color: var(--link-color) !important; text-decoration: underline; background-color: transparent; --link-color: rgb(71, 157, 228) !important; --link-color-hover: rgb(89, 167, 230) !important; --link-color-active: rgb(62, 152, 226) !important; --visited-color: rgb(128, 71, 228) !important; --visited-color-hover: rgb(141, 89, 230) !important; --visited-color-active: rgb(122, 62, 226) !important;">http://shop.sysmocom.de/products/sysmousim-sjs1-4ff</a><span>&nbsp;</span>(make sure you choose the right form-factor). Each card will be provided with an IMSI, a Ki, an OPC, and more. We need this information to fully connect a phone to our network. Simply add an entry for each SIM card into your<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">user_db.csv</code><span>&nbsp;</span>file. In our tests, the remaining fields do not have to be unique to each SIM (e.g.<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">9001,0000000003bc,7,dynamic</code>). Here’s what your CSV may look like (minus sensitive values):</p><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;">ue3,mil,&lt;IMSI&gt;,&lt;Ki&gt;,opc,&lt;OPC&gt;,9001,0000000003bc,7,dynamic
</code></pre></div><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;"><strong style="box-sizing: border-box; font-weight: bold;">Make sure not to have any trailing whitespace or extra newlines in this file, otherwise it won’t be loaded correctly.</strong></p><h2 id="configure-networking" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 27.75px; padding: 0px;">Configure Networking</h2><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">To give your devices a proper internet connection, we need to set up IP forwarding to forward IP packets from the network interface created by srsLTE to the network interface that your computer uses to access the internet.</p><h3 id="ip-forwarding" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">IP Forwarding</h3><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code class="language-sh" style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;">sudo vim /etc/sysctl.conf
	<span class="c1" style="box-sizing: border-box; color: rgb(137, 249, 178) !important; font-style: italic !important;"># Add/Uncomment</span>
	net.ipv4.ip_forward <span class="o" style="box-sizing: border-box; color: rgb(231, 228, 226) !important;">=</span> <span class="m" style="box-sizing: border-box; color: rgb(169, 196, 216) !important;">1</span>
	sysctl -p</code></pre></div><h3 id="ip-tables" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">IP Tables</h3><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">srsLTE provides a script for connecting the LTE network interface with your computer’s network interface. The script can be run as<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">srsepc_if_masq.sh &lt;wlan&gt;</code><span>&nbsp;</span>where<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">&lt;wlan&gt;</code><span>&nbsp;</span>is the name of the interface that your computer uses to access the internet.</p><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">If this script fails to work, use these three commands instead:</p><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code class="language-sh" style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;">sudo iptables -t nat -A POSTROUTING -o &lt;wlan&gt; -j MASQUERADE
sudo iptables -A FORWARD -i &lt;wlan&gt; -o srs_spgw_sgi -m state --state RELATED,ESTABLISHED -j ACCEPT
sudo iptables -A FORWARD -i srs_spgw_sgi -o &lt;wlan&gt; -j ACCEPT</code></pre></div><h2 id="run-srslte" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 27.75px; padding: 0px;">Run srsLTE</h2><h4 id="bladerf-6" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 18.5px; padding: 0px;">bladeRF</h4><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">We must load the FPGA image before running srsLTE.</p><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;"><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">bladeRF-cli -l /path_to_rbf/hostedxA4.rbf</code></p><h3 id="run-1" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">Run</h3><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">In two separate terminals, run these commands.</p><div class="highlight" style="box-sizing: border-box; background: rgb(23, 25, 26) !important; color: rgb(231, 228, 226) !important;"><pre style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 11px; margin: 0px 0px 1em; overflow: auto; display: block; color: rgb(231, 228, 226) !important; padding: 8px 12px; border-radius: 8px; border-left-width: 3px; border-left-style: solid; border-color: rgb(139, 120, 114) rgb(139, 120, 114) rgb(139, 120, 114) rgb(175, 29, 27) !important; box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 5px inset, rgba(0, 0, 0, 0.2) 0px 1px 0px, rgba(0, 0, 0, 0.4) 0px -1px 0px; background: rgb(23, 25, 26) !important;"><code class="language-sh" style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: inherit; color: rgb(231, 228, 226) !important; word-break: normal; border-radius: 4px; padding: 0px; background-color: transparent; border: 0px;">sudo srsepc
sudo srsenb</code></pre></div><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">Note that srsLTE may take several minutes before accepting a new connection from a device.</p><h3 id="phone-settings-1" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 22.2px; padding: 0px;">Phone Settings</h3><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">To connect a phone to the network, you’ll have to enter the<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Cellular Networks</em><span>&nbsp;</span>settings of your phone. Set the<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Preferred network type</em><span>&nbsp;</span>to LTE, then navigate to<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Network Operators</em><span>&nbsp;</span>&gt;<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Search networks</em>. The phone will perform a network scan, printing out the results for you to choose from. Your YateBTS network will be identified by the MCC and MNC that you set earlier. If you’ve left these settings default, your network with appear as something like<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">TEST_PLMN</code><span>&nbsp;</span>or possibly<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">001 001</code>. Simply click on the number corresponding to your network, and the phone will attempt to connect to the network. To use data services, we need to add an<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Access Point Name</em><span>&nbsp;</span>(APN). To do this, find the<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Access Point Names</em><span>&nbsp;</span>setting, then add an APN where<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">Name</em><span>&nbsp;</span>can be whatever you want while<span>&nbsp;</span><em style="box-sizing: border-box; --ml-text-color: HighlightedText; color: rgb(224, 220, 217) !important;">APN</em><span>&nbsp;</span>needs to be set to<span>&nbsp;</span><code style="box-sizing: border-box; font-family: &quot;Droid Sans Mono&quot;, monospace; font-size: 13px; color: rgb(151, 244, 141) !important; word-break: break-word; border-radius: 4px; padding: 0px 4px; background-color: rgb(23, 25, 25) !important;">srsapn</code>. If all is working well, you should be able to stream a YouTube video from your cellular network!</p><h1 id="onwards" style="box-sizing: border-box; margin: 0px 0px 1em; font-family: Oxygen, sans-serif; font-weight: 300; line-height: 1.2; color: inherit; font-size: 37px; padding: 0px;">Onwards</h1><p style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px;">If you made it this far, I hope you were successful in getting Yate or srsLTE up and running. If not, please leave a comment below so we can try and work out any issues you are having.</p><p class="center" style="box-sizing: border-box; margin: 0px 0px 1em; padding: 0px; text-align: center;"><img src="https://hernan.de/assets/posts/creating-a-cellular-testbed-with-yatebts-and-srslte/one_stack_sm.jpg" alt="YateBTS GUI Home Page" style="box-sizing: border-box; vertical-align: middle; border-style: none; max-width: 100%; filter: saturate(0.9) brightness(0.8);"></p></article>